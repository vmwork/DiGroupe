document.addEventListener("DOMContentLoaded",(function(){var e=[].slice.call(document.querySelectorAll("img.lazy")),t=[].slice.call(document.querySelectorAll(".lazy-background")),n=[].slice.call(document.querySelectorAll("[data-bg]"));if("IntersectionObserver"in window){let c=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){let t=e.target;t.src=t.dataset.src,t.srcset=t.dataset.srcset,t.classList.remove("lazy"),c.unobserve(t)}}))}));e.forEach((function(e){c.observe(e)}));let o=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(e.target.classList.add("visible"),o.unobserve(e.target))}))}));t.forEach((function(e){o.observe(e)}));let r=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){let t=e.target;t.style.backgroundImage="url("+t.dataset.bg+")",r.unobserve(t)}}))}));n.forEach((function(e){r.observe(e)}))}else e.forEach((function(e){e.src=e.dataset.src,e.srcset=e.dataset.srcset})),t.forEach((function(e){e.classList.add("visible")})),n.forEach((function(e){e.style.backgroundImage="url("+e.dataset.bg+")"}))})),function(){const e=document.querySelector(".main-nav"),t=document.querySelector(".search-button"),n=document.querySelector(".search-contrainer"),c=n.querySelector(".search-input"),o=document.querySelector(".close-search img"),r=document.querySelector(".search-button img");if(e){const t=document.querySelector(".mobile-button"),s=document.querySelector(".close-search");t.addEventListener("click",(function(){e.classList.add("nav-modal-position")})),s.addEventListener("click",(function(){e.classList.remove("nav-modal-position"),c.classList.remove("opend-search-input"),n.style.background="#ffffff",o.src="/img/closebutton3.png",r.src="img/search3.png"}))}t&&t.addEventListener("click",(function(){c.classList.add("opend-search-input"),n.style.background="#000000",o.src="/img/closebutton.png",r.src="img/search2.png"}));const s=document.querySelectorAll(".main-menu-item");if(s)for(let e=0;e<s.length;e++)s[e].addEventListener("click",(function(e){let t=e.target.parentElement.querySelector(".menu-lists");t&&t.classList.toggle("close-menu-item")}));const l=document.querySelector(".button-search"),a=document.querySelector(".main-search-button"),i=document.querySelector(".main-header-search"),d=document.querySelector(".main-header-close-search");l&&(l.addEventListener("click",(function(){i.classList.remove("modal-hidden")})),a.addEventListener("click",(function(){i.classList.toggle("modal-hidden")})),d.addEventListener("click",(function(){i.classList.add("modal-hidden")})));const u=document.querySelectorAll(".js-commercial ");if(u)for(let e=0;e<u.length;e++)u[e].addEventListener("click",m(e));function m(e){return function(e){if(e.target.parentElement.classList.contains("choose-property")){f(e.target.parentElement),e.target.parentElement.classList.toggle("js-choose-propert"),h(e.target.parentElement);let t=e.target.parentElement.parentElement.querySelector(".choose-property2");t&&(t.classList.toggle("closed-menu-property"),function(e,t){let n="";for(let c=0;c<e.children.length;c++)e.children[c].addEventListener("click",c=>{n=c.target.textContent,t.children[0].textContent=n,t.classList.toggle("js-choose-propert"),e.classList.add("closed-menu-property")})}(t,e.target.parentElement))}else e.target.parentElement.parentElement.classList.contains("choose-property")&&(f(e.target.parentElement.parentElement),e.target.parentElement.parentElement.classList.toggle("js-choose-propert"),h(e.target.parentElement.parentElement))}}function f(e){let t=document.querySelectorAll(".choose-property2"),n=document.querySelectorAll(".choose-property");for(let n=0;n<t.length;n++){if(e.classList.contains("js-choose-propert"))return;t[n].classList.add("closed-menu-property")}for(let t=0;t<n.length;t++){if(e.classList.contains("js-choose-propert"))return;n[t].classList.contains("js-choose-propert")&&n[t].classList.toggle("js-choose-propert")}}function h(e){for(let t=1;t<e.children.length;t++)e.children[t].addEventListener("click",n=>{e.children[0].textContent=e.children[t].textContent,e.classList.remove("js-choose-propert")})}let g=document.querySelectorAll(".tab-toggle"),p=document.querySelectorAll(".tabs-cotainer");if(g)for(let e=0;e<g.length;e++)g[e].addEventListener("click",y(e));function y(e){return function(t){!function(){for(let e=0;e<g.length;e++)g[e].classList.remove("color-mod")}(),g[e].classList.add("color-mod"),function(){for(let e=0;e<g.length;e++)p[e].classList.add("tab-hidden")}(),p[e].classList.remove("tab-hidden")}}const L=document.querySelector(".modal-call-back"),v=document.querySelector(".phone-call-back"),E=document.querySelector(".modal-call-back__close");v&&(v.addEventListener("click",(function(){L.classList.remove("modal-hidden")})),E.addEventListener("click",(function(){L.classList.add("modal-hidden")})));const b=document.querySelector(".modal-choose-city"),q=document.querySelector(".your-sity-container"),S=document.querySelector(".modal-choose-city__close");function k(){b.classList.add("modal-hidden")}q&&b&&(q.addEventListener("click",(function(){b.classList.remove("modal-hidden")})),S.addEventListener("click",k));const A=document.querySelectorAll(".chose-item"),j=document.querySelectorAll(".your-sity");if(A)for(let e=0;e<A.length;e++)A[e].addEventListener("click",C);function C(e){e.preventDefault(),j[0].textContent=e.target.textContent,k()}const I=document.querySelectorAll(".advansed-block"),x=document.querySelectorAll(".advansed-search");if(I&&x)for(let e=0;e<I.length;e++)x[e].addEventListener("click",w(e));function w(e){return function(t){x[e].classList.contains("advansed-search-rotate")?x[e].textContent="Свернуть":x[e].textContent="Расширенный поиск",x[e].classList.toggle("advansed-search-rotate"),I[e].classList.toggle("advansed-search-hidden"),console.log(x[e])}}}();